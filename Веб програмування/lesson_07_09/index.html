<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="./css/style.css">
  <title>Document</title>
</head>
<body>
  <div class="traficLight">
    <div class="red redActive" id="red">
      <span id="redSpan"></span>
    </div>
    <div class="green" id='green'>
      <span id="greenSpan"></span>
    </div>
  </div>
  <img src="./male-solid.svg" alt="">
  <!-- <button onclick="timer()">Click to change light</button> -->
  

  <script>
    const red = document.getElementById('red')
    const green = document.getElementById('green')

    const img = document.getElementsByTagName('img')[0]

    const redSpan = document.getElementById('redSpan')
    const greenSpan = document.getElementById('greenSpan')
    
    const changeLight = () => {
      if(red.classList.contains('redActive')){
        red.classList.remove('redActive')
        green.classList.add('greenActive')
        img.classList.add('imgTransitionFromLeft')
        
        // if(img.style.right == '100px'){
        //   alert('right')
        // }
      } else {
        green.classList.remove('greenActive')
        red.classList.add('redActive')
        img.classList.remove('imgTransition')
      }
    }

    let seconds = 5

    const timer = () => {
      if(red.classList.contains('redActive')) {
        var currentSpan = greenSpan
      } else {
        var currentSpan = redSpan
      }

      if(seconds>0){
        currentSpan.innerHTML=seconds
        seconds--
      } else {
        currentSpan.innerHTML=''
        seconds = 5
        changeLight()
      }
      console.log(seconds)
    }

    setInterval(timer, 1000)
  </script>
</body>
</html>